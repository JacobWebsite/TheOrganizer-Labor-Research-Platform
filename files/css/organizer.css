/* organizer.css â€” All styles for the Labor Relations Research Platform */
/* Tailwind is loaded via CDN in HTML; these are custom overrides */

body { font-family: 'Source Sans Pro', sans-serif; }
.headline { font-family: 'Playfair Display', serif; }

/* Custom scrollbar */
.custom-scroll::-webkit-scrollbar { width: 8px; }
.custom-scroll::-webkit-scrollbar-track { background: #f5f3f0; }
.custom-scroll::-webkit-scrollbar-thumb { background: #d4d0c8; border-radius: 4px; }
.custom-scroll::-webkit-scrollbar-thumb:hover { background: #a8a298; }

/* Tab styling */
.tab-inactive { color: #7d7770; }
.tab-active { background: #1a1a1a; color: white; }

/* App mode toggle */
.app-mode-inactive { color: #a8a298; }
.app-mode-inactive:hover { color: #d4d0c8; }
.app-mode-active { background: #c41e3a; color: white; }

/* Territory mode */
.territory-card {
    background: white;
    border: 2px solid #e8e5e0;
    border-radius: 12px;
    padding: 24px;
    cursor: pointer;
    transition: all 0.2s ease;
}
.territory-card:hover {
    border-color: #c41e3a;
    box-shadow: 0 4px 12px rgba(196, 30, 58, 0.1);
    transform: translateY(-2px);
}
.territory-kpi {
    background: white;
    border: 1px solid #e8e5e0;
    border-radius: 10px;
    padding: 20px;
}
.skeleton {
    background: linear-gradient(90deg, #f5f3f0 25%, #e8e5e0 50%, #f5f3f0 75%);
    background-size: 200% 100%;
    animation: skeleton-pulse 1.5s ease-in-out infinite;
    border-radius: 6px;
}
@keyframes skeleton-pulse {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

/* Mode transitions */
#territoryMode, #searchMode, #deepDiveMode {
    transition: opacity 0.2s ease;
}
.mode-enter { animation: mode-fade-in 0.25s ease forwards; }
@keyframes mode-fade-in {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Deep dive back button */
.back-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: #f5f3f0;
    border: 1px solid #e8e5e0;
    border-radius: 8px;
    color: #5c5752;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
}
.back-btn:hover {
    background: #e8e5e0;
    color: #1a1a1a;
}

/* Section header with icon */
.section-header {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 11px;
    font-weight: 600;
    color: #7d7770;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 12px;
}
.section-header svg { width: 14px; height: 14px; opacity: 0.6; }

/* Score bar animation */
.score-bar-fill {
    transition: width 0.6s ease;
}

/* List item states */
.list-item { border-left: 3px solid transparent; transition: all 0.15s ease; }
.list-item:hover { background: #f5f3f0; }
.list-item.selected { background: white; border-left-color: #1a1a1a; }
.list-item.keyboard-focus { outline: 2px solid #8B4513; outline-offset: -2px; background: #faf8f5; }

/* Print styles */
@media print {
    body { background: white !important; }
    .no-print, nav, header, footer, #searchFilters, #listViewContainer, #mapViewContainer,
    button, .view-toggle, #detailActionSection, #detailMap { display: none !important; }
    #detailContent { overflow: visible !important; height: auto !important; }
    .badge { border: 1px solid #ccc !important; }
    @page { margin: 1in; }
}
.print-only { display: none; }
@media print { .print-only { display: block; } }

/* Badge styles */
.badge { font-size: 11px; padding: 2px 8px; border-radius: 3px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.03em; }
.badge-private { background: #1a1a1a; color: white; }
.badge-public { background: #d1e7dd; color: #0a5132; }
.badge-federal { background: #fff3cd; color: #664d03; }
.badge-rla { background: #e2d9f3; color: #432874; }
.badge-industry { background: #f0ede8; color: #5c5752; }

/* Collapsible */
.collapsible-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
.collapsible-content.open { max-height: 500px; }

/* Map container */
#detailMap { height: 160px; border-radius: 6px; }
#fullMapContainer { height: calc(100vh - 380px); min-height: 500px; border-radius: 8px; }

/* Custom cluster markers */
.marker-cluster-small { background-color: rgba(139, 69, 19, 0.6); }
.marker-cluster-small div { background-color: rgba(139, 69, 19, 0.8); }
.marker-cluster-medium { background-color: rgba(139, 69, 19, 0.7); }
.marker-cluster-medium div { background-color: rgba(139, 69, 19, 0.9); }
.marker-cluster-large { background-color: rgba(139, 69, 19, 0.8); }
.marker-cluster-large div { background-color: rgba(139, 69, 19, 1); }
.marker-cluster { color: white; font-weight: bold; }

/* Corporate family cluster markers */
.corporate-cluster-icon { background: transparent; }
.corporate-cluster {
    width: 40px; height: 40px;
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    color: white; font-weight: bold; font-size: 14px;
    box-shadow: 0 2px 8px rgba(59, 130, 246, 0.4);
    border: 2px solid white;
}

/* View toggle */
.view-toggle { display: inline-flex; border-radius: 6px; overflow: hidden; border: 1px solid #e8e5e0; }
.view-toggle button { padding: 6px 12px; font-size: 13px; background: white; color: #5c5752; border: none; cursor: pointer; transition: all 0.2s; }
.view-toggle button:hover { background: #f5f3f0; }
.view-toggle button.active { background: #1a1a1a; color: white; }
.view-toggle button:first-child { border-right: 1px solid #e8e5e0; }

/* Input focus states */
input:focus, select:focus { outline: none; border-color: #1a1a1a; }

/* Typeahead dropdown */
.typeahead-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 1px solid #e8e5e0;
    border-top: none;
    border-radius: 0 0 6px 6px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    z-index: 50;
    display: none;
}
.typeahead-dropdown.open { display: block; }
.typeahead-item { padding: 10px 14px; cursor: pointer; border-bottom: 1px solid #f5f3f0; }
.typeahead-item:last-child { border-bottom: none; }
.typeahead-item:hover, .typeahead-item.bg-warmgray-100 { background: #f5f3f0; }
.typeahead-category {
    position: sticky;
    top: 0;
    background: #faf9f7;
    border-bottom: 1px solid #e8e5e0;
    font-size: 11px;
    padding: 8px 14px;
    color: #7d7770;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 600;
}

/* Map containment fixes - prevent pop-out bugs */
#fullMapContainer, #detailMap, #corporateFamilyMap {
    contain: layout paint;
    position: relative;
    overflow: hidden;
}

/* Body scroll lock when modal is open */
body.modal-open {
    overflow: hidden;
}

/* Clickable entity links */
.entity-link {
    cursor: pointer;
    text-decoration-line: underline;
    text-decoration-style: dotted;
    text-underline-offset: 2px;
}
.entity-link:hover {
    text-decoration-style: solid;
    color: #c41e3a;
}

/* Law firm warning badge */
.badge-law-firm {
    background: #fef3c7;
    color: #92400e;
    font-size: 10px;
}
